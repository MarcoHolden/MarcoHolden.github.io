<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Image Track</title>
    <style>
        body {
            height: 100vh;
            width: 100vw;
            background-color: #BDD4BC;
            margin: 0;
            overflow: hidden;
            position: relative;
        }
        nav {
            width: 100%;
            background-color: #BDD4BC;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 10;
            padding: 70px 0;  /* Adjusted padding */
            display: flex;
            justify-content: center;  /* Center the links horizontally */
            align-items: center;  /* Center the links vertically */
        }

        nav a {
            color: #f9fbf9;
            text-decoration: none;
            font-size: 2em;
            margin: 0 12px;
            font-family: Georgia, Helvetica, Arial, sans-serif;
        }

        #image-track {
            display: flex;
            gap: 4vmin;
            position: absolute;
            top: 50%;
            transform: translate(0%, -50%);
            padding-left: calc(40vw - 20vmin); /* Start in the center */
            user-select: none;
            transition: transform 0.5s ease;
        }

        #image-track > .image {
            width: 40vmin;
            height: 56vmin;
            object-fit: cover;
            object-position: 100% 50%;
            user-select: none;
            cursor: pointer;
        }

        #toggle-audio {
            position: fixed;  /* Fixed position */
            bottom: 20px;     /* Positioned at the bottom */
            left: 50%;        /* Center horizontally */
            transform: translateX(-50%);  /* Center horizontally */
            padding: 10px 20px;
            font-size: 16px;
            font-family: Georgia, Helvetica, Arial, sans-serif;
            cursor: pointer;
            color: #f9fbf9;
            background-color: #BDD4BC;
            border: 1px solid #BDD4BC;  /* Added border for better visibility */
        }

        #review-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            z-index: 20;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        #review {
            display: flex;
            width: 100%;
            height: 100%;
            cursor: pointer;
            align-items: center;
            justify-content: space-between;
        }

        #review-text {
            width: 50%;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        #review-image {
            width: 50%;
            height: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #review-image img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px;
            border: 2px solid white;
        }
    </style>
</head>
<body>
    <nav>
        <a href="personal.html">Back</a>
        <a href="fun-projects.html">Code</a>
    </nav>
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
        <img class="image" src="thekiterunner.jpg" draggable="false" alt="The Kite Runner" data-review="A gripping and emotional story of friendship and redemption.">
        <img class="image" src="thestranger.jpg" draggable="false" alt="The Stranger" data-review="An existential novel exploring the absurdity of life and the indifference of the universe.">
        <img class="image" src="theplague.jpg" draggable="false" alt="The Plague" data-review="A powerful allegory about human resilience and solidarity in the face of suffering.">
        <img class="image" src="borderliners.jpg" draggable="false" alt="Borderliners" data-review="A thought-provoking narrative about the boundaries of human existence and the search for meaning.">
        <img class="image" src="ishmael.jpg" draggable="false" alt="Ishmael" data-review="A philosophical dialogue about humanity's relationship with the natural world and the consequences of our actions.">
        <img class="image" src="theillustratedman.jpg" draggable="false" alt="The Illustrated Man" data-review="A collection of science fiction short stories that delve into the human condition and the mysteries of the universe.">
        <img class="image" src="obsucuresorrows.jpg" draggable="false" alt="Obscure Sorrows" data-review="A poetic exploration of the complex emotions and experiences that shape our lives.">
        <img class="image" src="lordoftheflys.jpg" draggable="false" alt="Lord of the Flies" data-review="Lord of the Flies by William Golding- finished Sept 14th
        The lord of the flies truly shows the trials of trying to live with others. It shows the danger of hysteria, ununified forces, and anarchy. The evil side of humanity which while unknowing, still forces itself upon others. The story is told of children but the adults at war reflect those same attributes. Ironically they think what would the adults do. The story paints man as the beast, the same type of beast they all were afraid of, dangerous to man and habitat alike.
        I liked the story. I wish I had less distractions when reading it. I think it was a solid 8/10
        “People don't help much.' He wanted to explain how people were never quite what you thought they were.”
        Jack:Why do we need the rules!  Ralph : Because the rules are the only thing we've got! Jack : Bollocks to the rules! 
        ">
        <img class="image" src="thealchemist.jpg" draggable="false" alt="The Alchemist" data-review="A philosophical and inspirational journey about following one's dreams and listening to one's heart.">
        <img class="image" src="notesofacrocodile.jpg" draggable="false" alt="Notes of a Crocodile" data-review="A raw and intimate look at identity, love, and the struggles of youth in a changing world.">
        <img class="image" src="theegg.jpg" draggable="false" alt="The Egg" data-review="A short story that challenges perceptions of life and existence, offering a unique perspective on the human experience.">
    </div>
    <div id="review-container">
        <div id="review" onclick="closeReview()">
            <div id="review-text"></div>
            <div id="review-image">
                <img src="" alt="Review Image">
            </div>
        </div>
    </div>
    <button id="toggle-audio" onclick="toggleAudio()">Toggle Audio</button>

    <audio id="my-audio" autoplay src="Tomato Miso.mp3"></audio>

    <script>
        const track = document.getElementById("image-track");
        const reviewContainer = document.getElementById("review-container");
        const reviewText = document.getElementById("review-text");
        const reviewImage = document.querySelector("#review-image img");
        let isDragging = false;

        window.onmousedown = e => {
            track.dataset.mouseDownAt = e.clientX;
            isDragging = true;
        }

        window.onmousemove = e => {
            if (!isDragging || track.dataset.mouseDownAt === "0") return;

            const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
                maxDelta = window.innerWidth / 2;

            const percentage = (mouseDelta / maxDelta) * -100,
                  prevPercentage = parseFloat(track.dataset.prevPercentage),
                  nextPercentage = Math.max(Math.min(prevPercentage + percentage, 0), -70);

            track.style.transform = `translate(${nextPercentage}%, -50%)`;

            for (const image of track.getElementsByClassName("image")) {
                image.style.objectPosition = `${100 + nextPercentage}% center`;
            }
        }

        window.onmouseup = () => {
            isDragging = false;
            track.dataset.mouseDownAt = "0";
            track.dataset.prevPercentage = track.style.transform.match(/-?\d+\.?\d*/)[0];
        }

        window.onresize = () => {
            track.style.paddingLeft = `calc(50vw - 20vmin)`; // Adjust padding to keep images centered
            track.dataset.prevPercentage = 0;
            track.style.transform = `translate(0%, -50%)`;
        }

        function toggleAudio() {
            const myAudio = document.getElementById("my-audio");
            if (myAudio.paused) {
                myAudio.play();  // If the audio is paused, play it
                document.getElementById("toggle-audio").textContent = 'Mute'; // Change button text to Mute
            } else {
                myAudio.pause(); // If the audio is playing, pause it
                document.getElementById("toggle-audio").textContent = 'Play'; // Change button text to Play
            }
        }

        document.body.onclick = () => {
            if (isAudioPlayed) return;
            playAudio();
        }

        for (const image of track.getElementsByClassName("image")) {
            image.onclick = (e) => {
                if (isDragging) return;
                e.stopPropagation();
                showReview(image);
            }
        }

        function showReview(image) {
            const reviewContent = image.dataset.review
                .split('\n')
                .map(line => line.trim())
                .join('<br>');

            reviewText.innerHTML = reviewContent;
            reviewImage.src = image.src;
            reviewContainer.style.display = 'flex';
        }

        function closeReview() {
            reviewContainer.style.display = 'none';
        }

        reviewContainer.onclick = closeReview;
    </script>
</body>
</html>
